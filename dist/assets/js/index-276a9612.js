import{c as x,g as $,a as E,e as F,_ as I,u as L,d as N,f as U,h as M}from"./utils-8a0e21cb.js";import{T as P}from"./index-fd7aca7f.js";import{g as D,I as R}from"./render-a551338b.js";import{_ as S}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-495e4281.js";import{d as h,aA as V,bH as g,aM as o,aK as v,r as B,o as H,c as q,b as a,a as i,w as s,e as c,u as A,bJ as G}from"./index-56d49eb9.js";import"./sortable.esm-563a259b.js";import"./_plugin-vue_export-helper-c27b6911.js";const K={class:"main-box"},J={class:"table-box"},j=i("i",{class:"ri-add-line"},null,-1),z=i("i",{class:"ri-eye-line"},null,-1),O=i("i",{class:"ri-edit-2-line"},null,-1),Q=i("i",{class:"ri-delete-bin-line"},null,-1),W=h({name:"treeProTable"}),ne=h({...W,setup(X){V(()=>{w(),g({title:"æ¸©é¦¨æç¤º",message:"è¯¥é¡µé¢ ProTable æ•°æ®ä¸ä¼šè‡ªåŠ¨è¯·æ±‚ï¼Œéœ€ç­‰å¾… treeFilter æ•°æ®è¯·æ±‚å®Œæˆä¹‹åŽï¼Œæ‰ä¼šè§¦å‘è¡¨æ ¼è¯·æ±‚ã€‚",type:"info",duration:1e4}),setTimeout(()=>{g({title:"æ¸©é¦¨æç¤º",message:"è¯¥é¡µé¢ ProTable æ€§åˆ«æœç´¢æ¡†ä¸ºè¿œç¨‹æ•°æ®æœç´¢ï¼Œè¯¦æƒ…å¯æŸ¥çœ‹ä»£ç ã€‚",type:"info",duration:1e4})},0)});const d=o(),u=v({departmentId:""}),p=o([]),w=async()=>{const{data:e}=await x();p.value=e,u.departmentId=p.value[1].id},y=e=>{G.success("è¯·æ³¨æ„æŸ¥çœ‹è¯·æ±‚å‚æ•°å˜åŒ– ðŸ¤”"),d.value.pageable.pageNum=1,u.departmentId=e},m=o(!1),T=$(),f=o([]),k=v([{type:"index",label:"#",width:80},{prop:"username",label:"ç”¨æˆ·å§“å",align:"left",width:100},{prop:"gender",label:"æ€§åˆ«",sortable:!0,isFilterEnum:!1,enum:f,search:{el:"select",props:{placeholder:"è¯·è¾“å…¥æ€§åˆ«æŸ¥è¯¢",filterable:!0,remote:!0,reserveKeyword:!0,loading:m,remoteMethod:e=>{f.value=[],e&&(m.value=!0,setTimeout(()=>{m.value=!1,f.value=T.filter(t=>t.genderLabel.includes(e))},500))}}},render:D},{prop:"idCard",label:"èº«ä»½è¯å·"},{prop:"email",label:"é‚®ç®±"},{prop:"address",label:"å±…ä½åœ°å€"},{prop:"status",label:"ç”¨æˆ·çŠ¶æ€",sortable:!0,tag:!0,enum:E(),search:{el:"tree-select"},fieldNames:{label:"userLabel",value:"userStatus"}},{prop:"createTime",label:"åˆ›å»ºæ—¶é—´",width:180},{prop:"operation",label:"æ“ä½œ",width:300,fixed:"right"}]),C=async e=>{var t;await L(N,{id:[e.id]},`åˆ é™¤ã€${e.username}ã€‘ç”¨æˆ·`),(t=d.value)==null||t.getTableList()},b=o(null),_=(e,t={})=>{var r,n;const l={title:e,row:{...t},isView:e==="æŸ¥çœ‹",api:e==="æ–°å¢ž"?U:e==="ç¼–è¾‘"?M:void 0,getTableList:(r=d.value)==null?void 0:r.getTableList};(n=b.value)==null||n.acceptParams(l)};return(e,t)=>{const l=B("el-button");return H(),q("div",K,[a(P,{label:"name",title:"éƒ¨é—¨åˆ—è¡¨(å•é€‰)",data:p.value,"default-value":u.departmentId,onChange:y},null,8,["data","default-value"]),i("div",J,[a(I,{ref_key:"proTable",ref:d,"row-key":"id",indent:20,columns:k,"request-api":A(F),"request-auto":!1,"init-param":u,"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:s(()=>[a(l,{type:"primary",onClick:t[0]||(t[0]=r=>_("æ–°å¢ž"))},{default:s(()=>[j,c(" Â æ–°å¢žç”¨æˆ· ")]),_:1})]),operation:s(r=>[a(l,{type:"primary",link:"",onClick:n=>_("æŸ¥çœ‹",r.row)},{default:s(()=>[z,c(" Â æŸ¥çœ‹ ")]),_:2},1032,["onClick"]),a(l,{type:"primary",link:"",onClick:n=>_("ç¼–è¾‘",r.row)},{default:s(()=>[O,c(" Â ç¼–è¾‘ ")]),_:2},1032,["onClick"]),a(l,{type:"primary",link:"",onClick:n=>C(r.row)},{default:s(()=>[Q,c(" Â åˆ é™¤ ")]),_:2},1032,["onClick"])]),_:1},8,["columns","request-api","init-param"]),a(S,{ref_key:"drawerRef",ref:b},null,512),a(R,{ref:"dialogRef"},null,512)])])}}});export{ne as default};
