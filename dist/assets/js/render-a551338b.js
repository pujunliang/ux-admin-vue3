import{bH as d,d as h,aM as f,r as a,o as L,h as O,w as i,b as l,u as z,bO as B,e as b,aP as y,a as w,t as M,p as T,g as j,bP as D,F as N,bJ as V}from"./index-56d49eb9.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const H=async(e,o,r={},v=!0,c=".xlsx")=>{v&&d({title:"温馨提示",message:"如果数据庞大会导致下载缓慢哦，请您耐心等待！",type:"info",duration:3e3});try{const t=await e(r),p=new Blob([t]);if("msSaveOrOpenBlob"in navigator)return window.navigator.msSaveOrOpenBlob(p,o+c);const m=window.URL.createObjectURL(p),u=document.createElement("a");u.style.display="none",u.download=`${o}${c}`,u.href=m,document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}catch{}},J=e=>(T("data-v-09ee897f"),e=e(),j(),e),G=J(()=>w("div",{class:"el-upload__text"},[b("将文件拖到此处，或"),w("em",null,"点击上传")],-1)),K={class:"el-upload__tip"},P=h({name:"ImportExcel"}),Q=h({...P,setup(e,{expose:o}){const r=f(!1),v=f(1),c=f(!1),t=f({title:"",fileSize:5,fileType:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]}),p=n=>{t.value={...t.value,...n},c.value=!0},m=()=>{t.value.tempApi&&H(t.value.tempApi,`${t.value.title}模板`)},u=async n=>{let s=new FormData;s.append("file",n.file),s.append("isCover",r.value),await t.value.importApi(s),t.value.getTableList&&t.value.getTableList(),c.value=!1},C=n=>{const s=t.value.fileType.includes(n.type),_=n.size/1024/1024<t.value.fileSize;return s||d({title:"温馨提示",message:"上传文件只能是 xls / xlsx 格式！",type:"warning"}),_||setTimeout(()=>{d({title:"温馨提示",message:`上传文件大小不能超过 ${t.value.fileSize}MB！`,type:"warning"})},0),s&&_},S=()=>{d({title:"温馨提示",message:"最多只能上传一个文件！",type:"warning"})},E=()=>{d({title:"温馨提示",message:`批量添加${t.value.title}失败，请您重新上传！`,type:"error"})},U=()=>{d({title:"温馨提示",message:`批量添加${t.value.title}成功！`,type:"success"})};return o({acceptParams:p}),(n,s)=>{const _=a("el-button"),g=a("el-form-item"),k=a("upload-filled"),R=a("el-icon"),$=a("el-upload"),F=a("el-switch"),I=a("el-form"),A=a("el-dialog");return L(),O(A,{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=x=>c.value=x),title:`批量添加${t.value.title}`,"destroy-on-close":!0,width:"580px",draggable:""},{default:i(()=>[l(I,{class:"drawer-multiColumn-form","label-width":"100px"},{default:i(()=>[l(g,{label:"模板下载 :"},{default:i(()=>[l(_,{type:"primary",icon:z(B),onClick:m},{default:i(()=>[b(" 点击下载 ")]),_:1},8,["icon"])]),_:1}),l(g,{label:"文件上传 :"},{default:i(()=>[l($,{action:"#",class:"upload",drag:!0,limit:v.value,multiple:!0,"show-file-list":!0,"http-request":u,"before-upload":C,"on-exceed":S,"on-success":U,"on-error":E,accept:t.value.fileType.join(",")},{tip:i(()=>[y(n.$slots,"tip",{},()=>[w("div",K,"请上传 .xls , .xlsx 标准格式文件，文件最大为 "+M(t.value.fileSize)+"M",1)],!0)]),default:i(()=>[y(n.$slots,"empty",{},()=>[l(R,{class:"el-icon--upload"},{default:i(()=>[l(k)]),_:1}),G],!0)]),_:3},8,["limit","accept"])]),_:3}),l(g,{label:"数据覆盖 :"},{default:i(()=>[l(F,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=x=>r.value=x)},null,8,["modelValue"])]),_:1})]),_:3})]),_:3},8,["modelValue","title"])}}});const Y=q(Q,[["__scopeId","data-v-09ee897f"]]),Z=e=>l(a("el-button"),{type:"primary",onClick:()=>V.success("我是通过 tsx 语法渲染的表头")},{default:()=>[e.column.label]}),ee=e=>l(a("el-button"),{type:"primary",link:!0,onClick:()=>V.success("我是通过 tsx 语法渲染的内容")},{default:()=>[e.row.username]}),te=e=>l(a("el-tag"),{type:e.row.gender=="男"?"success":"danger"},{default:()=>[e.row.gender]}),le=(e,o,r)=>l(N,null,[D(o)&&o.value.status?l(a("el-switch"),{"model-value":e.row.status,"active-text":e.row.status?"启用":"禁用","active-value":1,"inactive-value":0,onClick:()=>r(e.row)},null):l(a("el-tag"),{type:e.row.status?"success":"danger"},{default:()=>[e.row.status?"启用":"禁用"]})]),ae=({searchParam:e})=>l("div",{class:"flx-center"},[l(a("el-input"),{modelValue:e.minAge,modelModifiers:{trim:!0},"onUpdate:modelValue":o=>e.minAge=o,placeholder:"最小年龄"},null),l("span",{class:"mr10 ml10"},[b("-")]),l(a("el-input"),{modelValue:e.maxAge,modelModifiers:{trim:!0},"onUpdate:modelValue":o=>e.maxAge=o,placeholder:"最大年龄"},null)]);export{Y as I,ae as a,H as b,te as g,Z as h,le as s,ee as u};
